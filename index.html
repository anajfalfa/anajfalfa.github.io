<!-- force rebuild -->

<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="P√°gina pessoal de Ana Alfaiate">
    <title> Ana Alfaiate - P√°gina Pessoal</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="img/favicon.ico">
</head>

<body>
    <!-- Barra de Atalhos -->
    <div class="navbar">
        <a href="#home">Home</a>
        <a href="#portfolio">Portfolio</a>
        <a href="photography.html">Photography</a>
        <a href="list.html">Impossible List</a>
        <a href="#cv">CV</a>
        <a href="#ideas">Ideas</a>
        <div class="lang-switcher">
            <a href="index.html" class="lang-btn active">EN</a>
            <a href="index-pt.html" class="lang-btn">PT</a>
        </div>
    </div>

    <div class="container">
        <!-- Foto e informa√ß√µes pessoais -->
        <div class="profile-section" id="home">
            <img src="img/Ana-Alfaiate.jpeg" alt="Ana Alfaiate" class="profile-img">
            <h1>Ana Alfaiate</h1>
            <p class="course"> MEIC & LEBiom</p>
            <p class="bio">MSc Student in Computer Science and Engineering @ T√©cnico Lisboa </p>
        </div>

        <!-- Links para redes sociais -->
        <div class="social-links">
            <a href="https://github.com/anajfalfa" target="_blank" class="social-link" title="anajfalfa"><i
                    class="fab fa-github"></i> <span class="tooltip" tip-position="bottom">anajfalfa</span>
            </a>
            <a href="https://www.linkedin.com/in/ana-alfaiate/" target="_blank" class="social-link"
                title="ana-alfaiate"> <i class="fab fa-linkedin"></i> <span class="tooltip"
                    tip-position="bottom">ana-alfaiate</span></a>
            <a href="https://discord.com/users/690233975670964313" class="social-link discord-info"
                title="ana.alfaiate#1460" onclick="alert('ana.alfaiate#1460');">
                <i class="fab fa-discord"></i> <span class="tooltip" tip-position="bottom">ana.alfaiate#1460</span></a>

            <a href="https://www.instagram.com/ana.alfaiate.01/" target="_blank" class="social-link"
                title="ana.alfaiate.01">
                <i class="fab fa-instagram"></i> <span class="tooltip" tip-position="bottom">ana.alfaiate.01</span> </a>
            <a href="mailto:anajfalfaiate@gmail.com" target="_blank" class="social-link"
                title="anajfalfaiate@gmail.com">
                <i class="fab fa-google"></i> <span class="tooltip" tip-position="bottom">anajfalfaiate@gmail.com</span>
            </a>
            <a href="mailto:ana.alfaiate@tecnico.ulisboa.pt" target="_blank" class="social-link"
                title="ana.alfaiate@tecnico.ulisboa.pt">
                <i class="fas fa-envelope"></i> <span class="tooltip"
                    tip-position="bottom">ana.alfaiate@tecnico.ulisboa.pt</span> </a>
            <a href="https://fenix.tecnico.ulisboa.pt/homepage/ist1102903" class=" social-link" title="ist1102903"> <img
                    src="img/IST_favicon.ico" alt="IST T√©cnico" class="ist-icon"> <span class="tooltip"
                    tip-position="bottom">ist1102903</span> </a>
        </div>
        <!-- Main Div -->
        <div class="main-container">
            <p>
                Welcome to my personal space on the web!
                Here you can find my impossible list and a little more about me.
            </p>
        </div>
        <!-- Portfolio Section -->
        <section id="portfolio" class="portfolio-section">
            <h2>My Portfolio</h2>
            <div class="portfolio-grid">
                <div class="portfolio-item">
                    <a href="https://nebm.tecnico.ulisboa.pt/" target="_blank"
                        style="text-decoration: none; color: inherit; display: block;">
                        <img src="img/nebm_screenshot.png" alt="NEBM Website">
                        <h3>NEBM Website</h3>
                        <p>Collaborator (2022-2023) & Coordinator (2023-2024)</p>
                        <p>Redesigned the website using <strong>HTML, CSS, JS</strong> and managed the
                            <strong>PostgreSQL</strong> database for member resources.
                        </p>
                    </a>
                </div>
                <div class="portfolio-item">
                    <a href="https://job2be.tecnico.ulisboa.pt/" target="_blank"
                        style="text-decoration: none; color: inherit; display: block;">
                        <img src="img/job2be_screenshot.png" alt="Job2Be Website">
                        <h3>JOB2BE 2024 Website </h3>
                        <p>Collaborator (2023-2024)</p>
                        <p>Front-end development and <strong>PostgreSQL</strong> point system implementation for the
                            Job2Be
                            platform.</p>
                    </a>
                </div>
            </div>
        </section>

        <!-- CV Section -->
        <section id="cv" class="cv-section">
            <h2>Curriculum Vitae</h2>
            <div class="cv-container glass">
                <div class="cv-content">
                    <h3>Ana Alfaiate</h3>
                    <p><strong>MSc Student in Computer Science and Engineering</strong></p>
                    <p>Dedicated student with experience in web development, team coordination, and student advocacy.
                    </p>
                    <div class="cv-buttons">
                        <a href="cv/AnaAlfaiate_CV_English.pdf" download class="btn-primary"><i
                                class="fas fa-download"></i> Download CV</a>
                        <a href="cv-view.html" class="btn-secondary" target="_blank">View Details</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Restricted Ideas Section -->
        <section id="ideas" class="ideas-section">
            <h2>My Ideas</h2>
            <p class="section-subtitle">Restricted access area.</p>

            <div id="ideas-lock" class="ideas-lock">
                <i class="fas fa-lock fa-3x"></i>
                <p>This section is password protected.</p>
                <button onclick="unlockIdeas()" class="btn-primary">Unlock Access</button>
            </div>

            <div id="ideas-content" class="ideas-content hidden blur-content">
                <div class="idea-card glass">
                    <h3>‚ùÑÔ∏è Ribamar Snow Globes</h3>
                    <p>Design and production of paperweights/snow globes featuring Ribamar, Lourinh√£, Zona Oeste, and
                        Geoparque Oeste.</p>
                </div>
                <div class="idea-card glass">
                    <h3>üëï Sports Equipment (CSCR)</h3>
                    <p>Design and production of sports kits for Junta de Freguesia de Ribamar/CSCR. 10 main kits and 10
                        secondary kits for an Ultimate Frisbee team.</p>
                </div>
                <div class="idea-card glass">
                    <h3>üìç Beach Support & Tourism Spot</h3>
                    <p>A beach support point serving as a tourism office in Ribamar (near <a
                            href="https://maps.app.goo.gl/Nmd8MouDB6zgsVSe9" target="_blank"
                            style="color: #009de0; text-decoration: underline;"><i class="fas fa-map-marked-alt"></i>
                            Fonte das Avencas</a>). Selling
                        snow globes and providing leaflets. Seasonal summer operation with scholarships for students.
                    </p>
                </div>
                <div class="idea-card glass">
                    <h3> Health Unified App</h3>
                    <p>Development of a mobile app to unify health data from different sources - exams, prescriptions,
                        doctors, specialities, appointments, public and private health system.</p>
                    <p> SPMS (SNS) and private health system.</p>
                    <p> Regulatory System -- too high in Europe vs EUA </p>
                </div>
                <div class="idea-card glass">
                    <h3> Smart Bus Stops</h3>
                    <p> - Ribamar: Design and production of new bus stops with smart features - weather, traffic, bus
                        schedule, etc.
                        (Ribamar Design JFR and bus schedule)</p>
                    <p> - Lourinh√£: Interactive Pannel next buses and place </p>
                </div>

            </div>
        </section>


        <!-- Timeline Section -->
        <section id="timeline" class="timeline-section">
            <h2>Timeline</h2>
            <div class="timeline">
                <!-- Evento 1 -->
                <div class="timeline-element">
                    <div class="timeline-element-content">
                        <span class="timeline-element-icon" style="background-color: #fff; border: 3px solid #009de0;">
                            <img src="img/INESC-ID-new-logo_version-01A.png" alt="INESC-ID Logo"
                                class="timeline-element-logo-img">
                        </span>
                        <h4><a href="https://www.inesc-id.pt/member/30828f05-be75-4348-935a-c3adb9d93266/"
                                target="_blank" style="text-decoration: none; color: inherit;">INESC-ID</a></h4>
                        <h5>Research Intern (MSc)</h5>
                        <p><strong>Topic:</strong> Logical Model Inference with SAT/ASP<br>
                            Research intern at <a
                                href="https://www.inesc-id.pt/ou/cb43cbf0-f978-439c-a6f6-23ff864ae8d9/members/"
                                target="_blank" style="color: #009de0;">ARSR</a> (Automated Reasoning and Software
                            Reliability), advised by Pedro T.
                            Monteiro and Vasco Manquinho.</p>
                    </div>
                    <span class="timeline-element-date">August 2025 - Present</span>
                </div>

                <!-- Evento 2 -->
                <div class="timeline-element">
                    <span class="timeline-element-date">August 2025 - December 2025</span>
                    <div class="timeline-element-content">
                        <span class="timeline-element-icon" style="background-color: #fff;">
                            <img src="img/Danmarks_Tekniske_Universitet_(logo).svg.png" alt="DTU Logo"
                                class="timeline-element-logo-img">
                        </span>
                        <h4><a href="https://www.dtu.dk/english/" target="_blank"
                                style="text-decoration: none; color: inherit;">DTU - Technical University of Denmark</a>
                        </h4>
                        <h5>Erasmus+ Exchange Semester</h5>
                        <p>Computer Science and Engineering. Focusing on Program Verification, Cybersecurity
                            Fundamentals, and Logical Theories for Uncertainty and Learning.
                        </p>
                    </div>
                </div>

                <!-- Evento 7 - MSc (Moved to 3rd) -->
                <div class="timeline-element">
                    <div class="timeline-element-content">
                        <span class="timeline-element-icon" style="background-color: #fff;">
                            <img src="img/IST_Logo.png" alt="IST Logo" class="timeline-element-logo-img">
                        </span>
                        <h4><a href="https://tecnico.ulisboa.pt/en/education/courses/masters-programmes/computer-science-and-engineering/"
                                target="_blank" style="text-decoration: none; color: inherit;">MSc in Computer Science
                                and Engineering</a></h4>
                        <h5>T√©cnico Lisboa</h5>
                        <p>Specializing in AI.
                        </p>
                    </div>
                    <span class="timeline-element-date">August 2024 - Present</span>
                </div>

                <!-- Evento 3 - NEBM -->
                <div class="timeline-element">
                    <span class="timeline-element-date">September 2022 - July 2025</span>
                    <div class="timeline-element-content">
                        <span class="timeline-element-icon" style="background-color: #fff;">
                            <img src="img/nebm.jpg" alt="NEBM Logo" class="timeline-element-logo-img">
                        </span>
                        <h4><a href="https://nebm.tecnico.ulisboa.pt/" target="_blank"
                                style="text-decoration: none; color: inherit;">NEBM - IST</a></h4>
                        <h5>President of Fiscal Council & IT Coordinator & President</h5>
                        <p>President (Jul 2024 - Jul 2025). Previously IT Section Coordinator (2023-2024), leading the
                            website reform. Started as a collaborator in 2022.</p>
                    </div>
                </div>

                <!-- Evento 4 - NAPE -->
                <div class="timeline-element">
                    <div class="timeline-element-content">
                        <span class="timeline-element-icon" style="background-color: #fff;">
                            <img src="img/nape.png" alt="NAPE Logo" class="timeline-element-logo-img">
                        </span>
                        <h4><a href="https://nape.tecnico.ulisboa.pt/" target="_blank"
                                style="text-decoration: none; color: inherit;">NAPE - IST</a></h4>
                        <h5>T√©cnico Ambassador & Mentor</h5>
                        <p>Supporting new students and representing T√©cnico in outreach activities. Previously a Mentor
                            (2022-2023).</p>
                    </div>
                    <span class="timeline-element-date">October 2024 - June 2025</span>
                </div>

                <!-- Evento 5 - TreeTree2 -->
                <div class="timeline-element">
                    <span class="timeline-element-date">October 2024 - April 2025</span>
                    <div class="timeline-element-content">
                        <span class="timeline-element-icon" style="background-color: #fff;">
                            <img src="img/alpha_rectangle.avif" alt="TreeTree2 Logo" class="timeline-element-logo-img">
                        </span>
                        <h4><a href="https://programaalpha.org/" target="_blank"
                                style="text-decoration: none; color: inherit;">TreeTree2</a></h4>
                        <h5>Instructor @ Alpha Program</h5>
                        <p>Instructor for the Alpha Program (6th-8th grade), teaching science and engineering topics.
                        </p>
                    </div>
                </div>

                <!-- Evento 6 - LaSEEB -->
                <div class="timeline-element">
                    <div class="timeline-element-content">
                        <span class="timeline-element-icon" style="background-color: #fff;">
                            <img src="img/isr.png" alt="LaSEEB Logo" class="timeline-element-logo-img">
                        </span>
                        <h4><a href="https://isr.tecnico.ulisboa.pt/projects_cat/laseeb/" target="_blank"
                                style="text-decoration: none; color: inherit;">LaSEEB</a></h4>
                        <h5>Research Intern</h5>
                        <p>Project: "Automatic Segmentation of Knee Cartilage in MRI using Open-Source Tools". Final
                            Grade:
                            19.</p>
                    </div>
                    <span class="timeline-element-date">February 2024 - July 2024</span>
                </div>

                <!-- Evento 8 - JOB2BE -->
                <div class="timeline-element">
                    <span class="timeline-element-date">October 2022 - May 2024</span>
                    <div class="timeline-element-content">
                        <span class="timeline-element-icon" style="background-color: #fff;">
                            <img src="img/job2be.jpeg" alt="JOB2BE Logo" class="timeline-element-logo-img">
                        </span>
                        <h4><a href="https://job2be.tecnico.ulisboa.pt/" target="_blank"
                                style="text-decoration: none; color: inherit;">JOB2BE</a></h4>
                        <h5>Collaborator (IT & Design)</h5>
                        <p>Worked in the IT department developing the website and systems, and previously in the Design
                            department.</p>
                    </div>
                </div>

                <!-- Evento 9 - Medicine -->
                <div class="timeline-element">
                    <div class="timeline-element-content">
                        <span class="timeline-element-icon" style="background-color: #fff;">
                            <img src="img/fmul.png" alt="FMUL Logo" class="timeline-element-logo-img">
                        </span>
                        <h4>Faculty of Medicine (ULisboa)</h4>
                        <h5>Monitor (Anatomy & Histology)</h5>
                        <p>Assisted 1st-year Biomedical Engineering students in Histology practical classes.</p>
                    </div>
                    <span class="timeline-element-date">September 2022 - December 2022</span>
                </div>

                <!-- Evento 10 - Bachelor -->
                <div class="timeline-element">
                    <span class="timeline-element-date">September 2021 - July 2024</span>
                    <div class="timeline-element-content">
                        <span class="timeline-element-icon" style="background-color: #fff;">
                            <img src="img/IST_Logo.png" alt="IST Logo" class="timeline-element-logo-img">
                        </span>
                        <h4><a href="https://tecnico.ulisboa.pt/en/education/courses/undergraduate-programmes/biomedical-engineering/"
                                target="_blank" style="text-decoration: none; color: inherit;">BSc in Biomedical
                                Engineering</a></h4>
                        <h5>T√©cnico Lisboa</h5>
                        <p>Graduated with a final grade of 18.47/20. Received multiple Academic Excellence Diplomas.</p>
                    </div>
                </div>
            </div>
        </section>



        <!-- Mais itens da timeline podem ser adicionados aqui -->
    </div>

    <footer>
        <p>&copy; 2026 Ana Alfaiate | All rights reserved</p>
        <p>Developed with <span style="color: red;">&hearts;</span> by Ana Alfaiate</p>
    </footer>

    <!-- Admin Controls -->
    <div id="admin-controls" class="admin-controls hidden">
        <button onclick="exportHTML()" class="btn-secondary" style="padding: 8px 12px; font-size: 0.9em;"
            title="Export HTML"><i class="fas fa-code"></i></button>
        <button onclick="clearChanges()" class="btn-danger" style="padding: 8px 12px; font-size: 0.9em;"
            title="Reset Changes"><i class="fas fa-trash"></i></button>
    </div>

    <!-- Edit Modal -->
    <div id="edit-modal" class="modal hidden">
        <div class="modal-content glass">
            <h3>Edit Item</h3>
            <input type="text" id="edit-date" placeholder="Completion Date (e.g. Dec 2024)">
            <textarea id="edit-notes" placeholder="Notes / Details..."></textarea>
            <div class="modal-buttons">
                <button onclick="saveEdit()" class="btn-primary">Save</button>
                <button onclick="closeModal()" class="btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Add Item Modal -->
    <div id="add-modal" class="modal hidden">
        <div class="modal-content glass">
            <h3>Add New Item</h3>
            <input type="text" id="add-text" placeholder="Item Name (e.g. Learn to Fly)">
            <input type="text" id="add-date" placeholder="Completion Date (Optional)">
            <div class="modal-buttons">
                <button onclick="saveNewItem()" class="btn-primary">Add</button>
                <button onclick="closeAddModal()" class="btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // --- Existing Lock Logic ---
        function unlockIdeas() {
            const password = prompt("Enter the secret password:");
            if (password === "42") {
                document.getElementById('ideas-lock').style.display = 'none';
                const content = document.getElementById('ideas-content');
                content.classList.remove('hidden', 'blur-content');
                content.classList.add('visible');

                // Enable Admin Mode
                enableAdminMode();
            } else {
                alert("Access Denied.");
            }
        }

        // --- Admin System Logic ---
        let currentEditingItem = null;
        let currentAddCategory = null;

        function enableAdminMode() {
            document.body.classList.add('admin-mode');
            document.getElementById('admin-controls').classList.remove('hidden');

            // Add edit buttons to all list items
            document.querySelectorAll('.list-category li').forEach((li) => {
                if (!li.querySelector('.edit-btn')) {
                    const btn = document.createElement('i');
                    btn.className = 'fas fa-pencil-alt edit-btn';
                    btn.onclick = (e) => openEditModal(e, li);
                    li.appendChild(btn);

                    if (!li.querySelector('.item-details')) {
                        const details = document.createElement('div');
                        details.className = 'item-details';
                        li.appendChild(details);
                    }
                }
            });

            // Add "Add Item" buttons to categories
            document.querySelectorAll('.list-category').forEach((cat) => {
                if (!cat.querySelector('.add-btn-container')) {
                    const container = document.createElement('div');
                    container.className = 'add-btn-container';
                    container.style.marginTop = '10px';
                    container.style.textAlign = 'center';

                    const btn = document.createElement('button');
                    btn.className = 'btn-secondary'; // Reuse secondary style
                    btn.innerHTML = '<i class="fas fa-plus"></i> Add Item';
                    btn.style.fontSize = '0.8em';
                    btn.style.padding = '5px 10px';
                    btn.onclick = () => openAddModal(cat);

                    container.appendChild(btn);
                    cat.appendChild(container);
                }
            });

            // Restore data from LocalStorage
            loadChanges();
        }

        function openEditModal(e, li) {
            e.stopPropagation();
            currentEditingItem = li;

            const details = li.querySelector('.item-details');
            const date = details.getAttribute('data-date') || '';
            const notes = details.getAttribute('data-notes') || '';

            document.getElementById('edit-date').value = date;
            document.getElementById('edit-notes').value = notes;

            document.getElementById('edit-modal').classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('edit-modal').classList.add('hidden');
            currentEditingItem = null;
        }

        function openAddModal(category) {
            currentAddCategory = category;
            document.getElementById('add-text').value = '';
            document.getElementById('add-date').value = '';
            document.getElementById('add-modal').classList.remove('hidden');
        }

        function closeAddModal() {
            document.getElementById('add-modal').classList.add('hidden');
            currentAddCategory = null;
        }

        function saveNewItem() {
            if (!currentAddCategory) return;
            const text = document.getElementById('add-text').value;
            const date = document.getElementById('add-date').value;

            if (!text) return;

            const ul = currentAddCategory.querySelector('ul');
            const li = document.createElement('li');

            // Build inner HTML similar to saveEdit
            let detailsHTML = '';
            if (date) {
                detailsHTML = `<span class="item-date">Completed: ${date}</span>`;
            }

            // Determine icon and class
            const isDone = !!date;
            const iconClass = isDone ? 'fas fa-check-square' : 'far fa-square';
            const liClass = isDone ? 'done' : '';

            if (liClass) li.className = liClass;

            li.innerHTML = `<i class="${iconClass}"></i> ${text} <i class="fas fa-pencil-alt edit-btn"></i>
                            <div class="item-details" data-date="${date || ''}" data-notes="">${detailsHTML}</div>`;

            // Re-bind edit click for the new item
            li.querySelector('.edit-btn').onclick = (e) => openEditModal(e, li);

            ul.appendChild(li);

            saveChanges();
            closeAddModal();
        }

        function saveEdit() {
            if (!currentEditingItem) return;

            const date = document.getElementById('edit-date').value;
            const notes = document.getElementById('edit-notes').value;
            const details = currentEditingItem.querySelector('.item-details');

            // Update DOM
            details.setAttribute('data-date', date);
            details.setAttribute('data-notes', notes);

            let html = '';
            if (date) html += `<span class="item-date">Completed: ${date}</span>`;
            if (notes) html += `<p class="item-note">${notes}</p>`;
            details.innerHTML = html;

            // Mark as done if date is present
            const icon = currentEditingItem.querySelector('i'); // First icon
            if (date) {
                currentEditingItem.classList.add('done');
                icon.className = 'fas fa-check-square';
            } else {
                // Optional: Uncheck if date cleared? Maybe not strictly required but good UX
            }

            saveChanges();
            closeModal();
        }

        function exportHTML() {
            // Clone the list to clean it up
            const listClone = document.getElementById('list').cloneNode(true);

            // Remove Admin Buttons
            listClone.querySelectorAll('.edit-btn').forEach(el => el.remove());
            listClone.querySelectorAll('.add-btn-container').forEach(el => el.remove());

            // Generate HTML
            const html = listClone.innerHTML; // Just the content of the list section

            // Note: If you want to replace the WHOLE section, use outerHTML, 
            // but make sure to strip the id="list" duplication if pasting inside id="list".
            // The user instruction "Paste it into index.html" usually implies replacing the inner content 
            // OR replacing the whole <section>. 
            // Let's stick to innerHTML for safer pasting inside the container, 
            // OR outerHTML if they replace the section.
            // Given my previous instruction "Paste it into index.html to save", 
            // I'll assume they might replace the <section>. 
            // Let's provide the inner content of the grid? 
            // Let's stick to outerHTML but cleaned.

            const outer = listClone.outerHTML;

            navigator.clipboard.writeText(outer).then(() => {
                alert('Cleaned HTML copied! Replaces the <section id="list">...</section> block.');
            });
        }

        function saveChanges() {
            const listHTML = document.getElementById('list').innerHTML;
            localStorage.setItem('impossibleListHTML', listHTML);
            alert('Changes saved to browser!');
        }

        function loadChanges() {
            const saved = localStorage.getItem('impossibleListHTML');
            if (saved) {
                document.getElementById('list').innerHTML = saved;
                // Re-enable admin controls because the innerHTML replacement might kill listeners for existing elements
                // Actually, we need to re-attach listeners.
                // Simpler: Just rely on enableAdminMode logic to re-attach if elements exist
                // But wait, innerHTML replacement destroys DOM nodes, so listeners attached via JS property (onclick) are lost?
                // Yes. But my enableAdminMode adds them using `li.onclick`. 
                // Wait, `loadChanges` calls `enableAdminMode`? No, `enableAdminMode` calls `loadChanges`.
                // If `loadChanges` replaces innerHTML, we need to re-run the listener attachment logic.
                // FIX: Separate listener attachment.

                // Let's make sure we re-attach listeners after loading.
                attachListeners();
            }
        }

        function attachListeners() {
            document.querySelectorAll('.list-category li').forEach((li) => {
                // Clean old buttons inside if they were saved in HTML (export includes them?)
                // If export includes .edit-btn, we might duplicate them if we aren't careful.
                // The check `if (!li.querySelector('.edit-btn'))` handles duplication.
                // But we need to re-attach click events to existing buttons.
                const btn = li.querySelector('.edit-btn');
                if (btn) {
                    btn.onclick = (e) => openEditModal(e, li);
                }
            });

            document.querySelectorAll('.add-btn-container button').forEach(btn => {
                // Find parent category
                const cat = btn.closest('.list-category');
                btn.onclick = () => openAddModal(cat);
            });
        }

        // Revised enableAdminMode to call attachListeners
        // See updated code below replacement...
    </script>
</body>


</html>